(function(){"use strict";var t={8518:function(t,e,s){var o=s(7195),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden vh-100 vw-100 d-flex flex-column",attrs:{id:"app"}},[e("UiEditor",{attrs:{msg:"Welcome to Your Vue.js App"}}),t._m(0)],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-4"},[t._v(" display configuration UI by rzeiler @ 2024 | "),e("a",{attrs:{href:"https://esphome.io/components/display/",title:"Display Component"}},[t._v(" esphome ")]),e("a",{attrs:{href:"https://pictogrammers.com/library/mdi/"}},[t._v("pictogrammers")])])}],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-stretch overflow-hidden position-relative",attrs:{id:"uieditor"},on:{click:t.buildCode}},[e("div",{staticClass:"bg-primary-subtle d-flex flex-column m-3 rounded p-2 shadow-sm"},[e("button",{staticClass:"btn btn-primary m-2 text-white",attrs:{"data-bs-toggle":"tooltip",title:"Add new Text"},on:{click:t.addLabel}},[e("span",{staticClass:"mdi mdi-format-text fs-5"})]),e("button",{staticClass:"btn btn-primary m-2 text-white",attrs:{"data-bs-toggle":"tooltip",title:"Add new Font from Google Fonts"},on:{click:function(e){t.addFont=!0}}},[e("span",{staticClass:"mdi mdi-format-font fs-5"})]),e("span",{staticClass:"flex-grow-1"}),e("button",{staticClass:"d-none btn btn-primary m-2 text-white position-relative"},[e("span",{staticClass:"mdi mdi-refresh fs-5"}),e("span",{staticClass:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger p-1"},[t._v(t._s(t.history)),e("span",{staticClass:"visually-hidden"},[t._v("history")])])]),t._m(0)]),e("display",{attrs:{labels:t.label}}),e("div",{staticClass:"d-flex flex-column flex-grow-1"},[e("div",{staticClass:"flex-grow-1 d-flex flex-column overflow-auto"},[e("div",{staticClass:"p-4 flex-grow-1"},[e("h3",[t._v("Text")]),e("div",{staticClass:"card mb-2 p-2 shadow-sm"},t._l(t.label,(function(s){return e("div",{key:s.id,staticClass:"input-group mb-3"},[e("span",{staticClass:"input-group-text"},[t._v("Text")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.text,expression:"item.text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Hello world","aria-label":"Text","aria-describedby":"Text"},domProps:{value:s.text},on:{input:function(e){e.target.composing||t.$set(s,"text",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("Top")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.top,expression:"item.top"}],staticClass:"form-control",staticStyle:{"max-width":"100px"},attrs:{type:"number",min:"0",max:s.maxHeight},domProps:{value:s.top},on:{input:function(e){e.target.composing||t.$set(s,"top",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("Left")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.left,expression:"item.left"}],staticClass:"form-control",staticStyle:{"max-width":"100px"},attrs:{type:"number",min:"0",max:s.maxWidth},domProps:{value:s.left},on:{input:function(e){e.target.composing||t.$set(s,"left",e.target.value)}}}),e("button",{staticClass:"btn btn-light",staticStyle:{"z-index":"unset"},on:{click:function(e){t.choosFont=s}}},[t._v(" "+t._s(s.font.name)+" ")]),e("button",{staticClass:"btn btn-danger",staticStyle:{"z-index":"unset"},on:{click:function(e){return t.remove(s.id)}}},[e("span",{staticClass:"mdi mdi-trash-can-outline me-1"}),t._v("Remove ")])])})),0),e("h3",[t._v("Font")]),e("div",{staticClass:"card mb-2 p-2 shadow-sm"},t._l(t.fonts,(function(s){return e("div",{key:s.id,staticClass:"input-group mb-3"},[e("span",{staticClass:"input-group-text"},[t._v(t._s(s.name))]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.size,expression:"font.size"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:s.size},on:{input:function(e){e.target.composing||t.$set(s,"size",e.target.value)}}}),e("button",{staticClass:"btn btn-danger",staticStyle:{"z-index":"unset"},on:{click:function(e){return t.removeFont(s)}}},[e("span",{staticClass:"mdi mdi-trash-can-outline me-1"}),t._v("Remove ")])])})),0)])]),e("pre",{staticClass:"card p-4 bg-dark text-white m-4 shadow",domProps:{innerHTML:t._s(t.code)}}),t.choosFont?e("div",{staticClass:"position-absolute d-flex justify-content-center align-items-center top-0 start-0 vh-100 vw-100 bg-body-secondary",staticStyle:{"--bs-bg-opacity":"0.5"},on:{click:function(e){t.choosFont=!1}}},[e("div",{staticClass:"list-group"},t._l(t.fonts,(function(s){return e("button",{key:s.id,staticClass:"list-group-item list-group-item-action",attrs:{type:"button"},on:{click:function(e){return t.changeFont(s)}}},[t._v(" "+t._s(s.name)+" ")])})),0)]):t._e(),t.addFont?e("div",{staticClass:"position-absolute d-flex justify-content-center align-items-center top-0 start-0 vh-100 vw-100 bg-body-secondary",staticStyle:{"--bs-bg-opacity":"0.5"}},[e("div",{staticClass:"bg-white shadow p-0 rounded"},[e("button",{staticClass:"btn-close m-1",staticStyle:{float:"right"},attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.addFont=!1}}}),e("div",{staticClass:"input-group m-4",staticStyle:{width:"700px"}},[e("span",{staticClass:"input-group-text"},[t._v("Google Font")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fontData.name,expression:"fontData.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Roboto, Montserrat, Raleway,Open Sans...","aria-label":"Text","aria-describedby":"Text"},domProps:{value:t.fontData.name},on:{input:function(e){e.target.composing||t.$set(t.fontData,"name",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("Size")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fontData.size,expression:"fontData.size"}],staticClass:"form-control",attrs:{type:"number",value:"10",min:"0",max:"30"},domProps:{value:t.fontData.size},on:{input:function(e){e.target.composing||t.$set(t.fontData,"size",e.target.value)}}}),e("button",{staticClass:"btn btn-danger",staticStyle:{"z-index":"unset"},on:{click:t.addNewFont}},[e("span",{staticClass:"mdi mdi-check me-1"}),t._v("Add ")])])])]):t._e()])],1)},l=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"btn btn-primary m-2 text-white",attrs:{href:"https://github.com/rzeiler/esphome-display-configurator"}},[e("span",{staticClass:"mdi mdi-github fs-1"})])}],r=(s(560),function(){var t=this,e=t._self._c;return e("div",{staticClass:"rounded d-flex flex-column mt-3 mb-3 bg-white shadow ps-3 pe-3"},[e("div",{staticClass:"p-4 d-flex"},[e("span",{staticClass:"ps-0 display-2 mb-4"},[t._v("Display")]),e("span",{staticClass:"flex-grow-1"}),e("div",{staticClass:"dropdown d-flex align-items-center",attrs:{"data-bs-toggle":"tooltip",title:"Choose Display"}},[t._m(0),e("ul",{staticClass:"dropdown-menu"},[e("li",t._l(t.displays,(function(s){return e("a",{key:s.name,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){t.display=s}}},[t._v(t._s(s.name)+" ("+t._s(s.details)+")")])})),0)])])]),e("div",{ref:"dis",class:t.cssClass,style:{scale:t.display.scale},attrs:{"data-bs-toggle":"tooltip",title:"Scroll to resize"},on:{mousewheel:t.handleScroll}},[e("div",{staticClass:"shadow position-relative",style:{width:t.display.width+"px",height:t.display.height+"px",backgroundColor:t.display.backgroundColor,color:t.display.color},attrs:{id:"screen"}},t._l(t.labels,(function(s){return e("label",{key:s.id,style:{left:s.left+"px",top:s.top+"px","font-size":s.font.size+"px","font-family":s.font.name}},[t._v(" "+t._s(s.text)+" ")])})),0),e("div",{staticClass:"hole position-absolute top-0 start-0 rounded-circle"}),e("div",{staticClass:"hole position-absolute top-0 end-0 rounded-circle"}),e("div",{staticClass:"hole position-absolute bottom-0 start-0 rounded-circle"}),e("div",{staticClass:"hole position-absolute bottom-0 end-0 rounded-circle"})])])}),d=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn active rounded-circle",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("span",{staticClass:"mdi mdi-dots-vertical"})])}],c={name:"Display",props:{labels:{type:Array,default(){return[]}}},data:function(){return{displays:[{name:"OLED",class:"oled128x64",details:"128x64",scale:2},{name:"waveshare",class:"waveshare250x122",details:"250x122",scale:2}],display:{}}},mounted(){void 0!=localStorage.display?this.display=JSON.parse(localStorage.display):this.display=this.displays[0],this.setTooltip()},methods:{onChange(t){this.display=t,localStorage.display=JSON.stringify(t)},handleScroll(t){120===t.deltaY&&(this.display.scale+=.1),-120===t.deltaY&&(this.display.scale-=.1)}},computed:{cssClass(){return`${this.display.class} board shadow align-self-center`}},watch:{display(){localStorage.display=JSON.stringify(this.display)},"display.scale"(){localStorage.display=JSON.stringify(this.display)}}},p=c,u=s(1001),f=(0,u.Z)(p,r,d,!1,null,"056dbe39",null),m=f.exports,h={name:"UiEditor",components:{display:m},data:function(){return{label:[],fonts:[],choosFont:null,addFont:!1,fontData:{name:"",size:10},code:"",history:0}},mounted(){if(void 0!=localStorage.history){let t=JSON.parse(localStorage.history);this.label=t.label,this.fonts=t.fonts,this.buildCode()}else this.fontData={name:"Open+Sans",size:15},this.addNewFont(),this.addLabel();this.setTooltip()},methods:{setDisplay(t){this.display=t,console.log("change display",t)},setHistory(t){alert("set hist"),console.log(t)},changeFont(t){this.choosFont.font=t,this.choosFont=null},removeFont(t){this.fonts=this.fonts.filter((e=>e!==t))},buildCode(){const t=new Date,e=t.getDate(),s=t.getHours(),o=t.getMinutes(),i=t.getMonth();this.code="# Example configuration entry Font ",this.code+="\nfont:",this.fonts.forEach((t=>{this.code+=`\n  - file: "gfonts://${t.name}"`,this.code+=`\n    id: ${t.id}`,this.code+=`\n    size: ${t.size}`})),this.code+="\n\n# Example configuration entry Display ",this.code+="\ndisplay:",this.code+="\n  - platform: ssd1306_i2c",this.code+="\n    id: olde",this.code+="\n    reset_pin: GPIO1 # D0",this.code+="\n    address: 0x3C",this.code+="\n    lambda: |-",this.label.forEach((t=>{this.code+=`\n      it.printf(${t.left},${t.top}, id(${t.font.id}), "${t.text}");`})),localStorage.history=JSON.stringify({title:"",text:"",time:`${e}.${i} / ${s}:${o}.`,label:this.label,fonts:this.fonts})},addNewFont(){this.fonts.push({name:this.fontData.name,size:this.fontData.size,id:"font"+this.fonts.length});let t=this.fonts[this.fonts.length-1],e=document.createElement("link");e.id=t.id,e.rel="stylesheet",e.href=`https://fonts.googleapis.com/css2?family=${t.name}`,document.head.appendChild(e),this.buildCode()},remove(t){this.label=this.label.filter((e=>e.id!==t))},addLabel(){this.label.push({top:0,left:0,text:"Hello World",id:this.label.length,font:this.fonts[0],maxWidth:128,maxHeight:64}),this.buildCode()}}},g=h,v=(0,u.Z)(g,n,l,!1,null,"3657cc1c",null),b=v.exports,y={name:"App",components:{UiEditor:b}},x=y,C=(0,u.Z)(x,i,a,!1,null,null,null),w=C.exports,_=s(1920),S=s.n(_),k=s(4337);(0,k.z)("/esphome-display-configurator/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),o.ZP.config.productionTip=!1,o.ZP.mixin({methods:{setTooltip(){const t=document.querySelectorAll('[data-bs-toggle="tooltip"]'),e=[...t].map((t=>new(S().Tooltip)(t)));console.log(e)}}}),new o.ZP({render:t=>t(w)}).$mount("#app")}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,a){if(!o){var n=1/0;for(c=0;c<t.length;c++){o=t[c][0],i=t[c][1],a=t[c][2];for(var l=!0,r=0;r<o.length;r++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[r])}))?o.splice(r--,1):(l=!1,a<n&&(n=a));if(l){t.splice(c--,1);var d=i();void 0!==d&&(e=d)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[o,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,n=o[0],l=o[1],r=o[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(r)var c=r(s)}for(e&&e(o);d<n.length;d++)a=n[d],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(c)},o=self["webpackChunkesphome_display_configurator"]=self["webpackChunkesphome_display_configurator"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(8518)}));o=s.O(o)})();
//# sourceMappingURL=app.4ee8d350.js.map